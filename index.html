<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-key="nav.title">æ„›å¦®å³¶æ½›åº—æ¯”è¼ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Noto Sans TC", "Noto Sans JP", sans-serif;
        background-color: #fdfbf7;
        color: #1f2937;
      }

      /* Chart Container Styling - MANDATORY */
      .chart-container {
        position: relative;
        width: 100%;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        height: 400px;
        max-height: 50vh;
      }

      /* Custom Scrollbar for tables if needed */
      .custom-scrollbar::-webkit-scrollbar {
        height: 8px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      .text-dynamic {
        /* Class for all dynamically updated text */
      }
    </style>
    <!-- Chosen Palette: Warm Sand & Deep Ocean -->
    <!-- Primary: #0ea5e9 (Ocean Blue), Secondary: #f97316 (Sunset Orange), Background: #fdfbf7 (Sand) -->

    <!-- Application Structure Plan: 
         1. Hero Section: æ¨™é¡Œå’Œæ ¸å¿ƒåƒ¹å€¼ä¸»å¼µï¼ˆç°¡åŒ–é¸æ“‡ï¼‰ã€‚
         2. Interactive Concierge (Wizard): 'ç„¦é»é¸æ“‡å™¨' æ ¹æ“šç”¨æˆ¶çš„å„ªå…ˆç´šç¯©é¸æœ€ä½³æ½›åº—ã€‚
         3. Dynamic Price Visualization: Chart.js æŸ±ç‹€åœ–æ¯”è¼ƒå„èª²ç¨‹æˆæœ¬ã€‚
         4. Detailed Comparison Grid: ä»¥å¡ç‰‡å½¢å¼å‘ˆç¾è©³ç´°æ•¸æ“šï¼Œç”¨æ–¼æ¯”è¼ƒéæ•¸å€¼ç‰¹æ€§ã€‚
         
         Why this structure? å„ªå…ˆç´šï¼ˆWizardï¼‰æä¾›å³æ™‚å»ºè­°ï¼Œåœ–è¡¨é©—è­‰è²¡å‹™ï¼Œå¡ç‰‡æä¾›ç´°ç¯€ã€‚æ–°å¢èªè¨€åˆ‡æ›åŠŸèƒ½ä»¥æœå‹™å¤šèªè¨€éœ€æ±‚ï¼Œä¸¦å¯¦ä½œè‡ªå‹•åµæ¸¬ã€‚
    -->

    <!-- Visualization & Content Choices:
         1. Concierge (Wizard): HTML/JS æŒ‰éˆ• -> å‹•æ…‹ DOM æ›´æ–°ã€‚ç›®æ¨™ï¼šç¯©é¸è³‡è¨Šã€‚ç†ç”±ï¼šç”¨æˆ¶æœ‰ä¸åŒçš„å„ªå…ˆç´šã€‚
         2. Price Chart: Chart.js æŸ±ç‹€åœ–ã€‚ç›®æ¨™ï¼šè¦–è¦ºåŒ–æ¯”è¼ƒæˆæœ¬ã€‚ç†ç”±ï¼šåœ–è¡¨æ¯”è¡¨æ ¼æ›´ç›´è§€ã€‚NO SVG used.
         3. Feature Cards: HTML/Tailwind Gridã€‚ç›®æ¨™ï¼šé¡¯ç¤ºå®šæ€§æ•¸æ“šã€‚ç†ç”±ï¼šæ˜“æ–¼é–±è®€ä¸”éŸ¿æ‡‰å¼ã€‚
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
  </head>
  <body class="text-slate-800">
    <!-- Navigation / Header -->
    <nav class="bg-white shadow-sm border-b border-slate-100 sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">
          <div class="flex items-center">
            <span class="text-2xl font-bold text-sky-600" data-key="nav.title">æ„›å¦®å³¶æ½›æ°´æŒ‡å—</span>
          </div>
          <div class="flex items-center space-x-4">
            <!-- Language Toggle -->
            <div class="relative inline-block text-left">
              <select
                id="language-selector"
                onchange="switchLanguage(this.value)"
                class="bg-white border border-slate-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500"
              >
                <option value="zh-TW">ä¸­æ–‡ (ç¹é«”)</option>
                <option value="ja">æ—¥æœ¬èª</option>
              </select>
            </div>

            <div class="hidden md:flex space-x-4">
              <button
                onclick="scrollToSection('concierge')"
                class="text-slate-600 hover:text-sky-600 font-medium text-dynamic"
                data-key="nav.diag"
              >
                æ¨è–¦è¨ºæ–·
              </button>
              <button
                onclick="scrollToSection('price-chart')"
                class="text-slate-600 hover:text-sky-600 font-medium text-dynamic"
                data-key="nav.price"
              >
                åƒ¹æ ¼æ¯”è¼ƒ
              </button>
              <button
                onclick="scrollToSection('details')"
                class="text-slate-600 hover:text-sky-600 font-medium text-dynamic"
                data-key="nav.details"
              >
                è©³ç´°è¦æ ¼
              </button>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-16">
      <!-- Hero Section -->
      <section class="text-center space-y-4">
        <h1 class="text-4xl md:text-5xl font-bold text-slate-900 tracking-tight text-dynamic" data-key="hero.h1">
          åœ¨æ„›å¦®å³¶å°‹æ‰¾æœ€æ£’çš„æ½›æ°´é«”é©—
        </h1>
        <p class="text-xl text-slate-600 max-w-2xl mx-auto whitespace-pre-line text-dynamic" data-key="hero.p">
          æ·±åº¦æ¯”è¼ƒä¸‰å€‹ä¸»è¦æ½›æ°´ä¸­å¿ƒï¼ˆEL DIVE, 200 Bar, Tabanka Diversï¼‰ã€‚ å¹«åŠ©æ‚¨è¼•é¬†æ‰¾åˆ°æœ€ç¬¦åˆéœ€æ±‚çš„æ½›åº—ã€‚
        </p>
      </section>

      <!-- Interactive Concierge Section -->
      <section id="concierge" class="bg-white rounded-2xl shadow-lg p-6 md:p-10 border border-slate-100">
        <div class="max-w-3xl mx-auto">
          <div class="text-center mb-8">
            <h2 class="text-2xl font-bold text-slate-800 mb-3 text-dynamic" data-key="concierge.h2">âš¡ æ½›æ°´åº—æ¨è–¦è¨ºæ–·</h2>
            <p class="text-slate-600 whitespace-pre-line text-dynamic" data-key="concierge.p">
              æ­¤å€å°‡æ ¹æ“šæ‚¨çš„å„ªå…ˆé †åºï¼Œç‚ºæ‚¨æ¨è–¦æœ€é©åˆçš„æ½›æ°´ä¸­å¿ƒã€‚ è«‹é¸æ“‡æ‚¨æœ€é‡è¦–çš„é …ç›®ã€‚
            </p>
          </div>

          <!-- Priority Buttons -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <button
              onclick="selectPriority('language')"
              id="btn-language"
              class="priority-btn p-4 rounded-xl border-2 border-slate-200 hover:border-sky-500 hover:bg-sky-50 transition-all group text-left"
            >
              <div class="font-bold text-lg mb-1 group-hover:text-sky-700 text-dynamic" data-key="concierge.language.title">
                ğŸ—£ï¸ æ—¥èªæ•™ç·´
              </div>
              <div class="text-sm text-slate-500 text-dynamic" data-key="concierge.language.desc">å¸Œæœ›æ²’æœ‰èªè¨€éšœç¤™ï¼Œå®‰å¿ƒå­¸ç¿’</div>
            </button>
            <button
              onclick="selectPriority('speed')"
              id="btn-speed"
              class="priority-btn p-4 rounded-xl border-2 border-slate-200 hover:border-orange-500 hover:bg-orange-50 transition-all group text-left"
            >
              <div class="font-bold text-lg mb-1 group-hover:text-orange-700 text-dynamic" data-key="concierge.speed.title">
                ğŸš¤ äº¤é€šé€Ÿåº¦/æ•ˆç‡
              </div>
              <div class="text-sm text-slate-500 text-dynamic" data-key="concierge.speed.desc">æƒ³ç¯€çœäº¤é€šæ™‚é–“ï¼Œæ›´æœ‰æ•ˆç‡åœ°æ½›æ°´</div>
            </button>
            <button
              onclick="selectPriority('stay')"
              id="btn-stay"
              class="priority-btn p-4 rounded-xl border-2 border-slate-200 hover:border-emerald-500 hover:bg-emerald-50 transition-all group text-left"
            >
              <div class="font-bold text-lg mb-1 group-hover:text-emerald-700 text-dynamic" data-key="concierge.stay.title">
                ğŸ¨ æ½›æ°´+ä½å®¿æ•´åˆ
              </div>
              <div class="text-sm text-slate-500 text-dynamic" data-key="concierge.stay.desc">å¸Œæœ›ä½å®¿å’Œæ½›æ°´èƒ½ä¸€ç«™å¼å®‰æ’</div>
            </button>
          </div>

          <!-- Recommendation Result -->
          <div id="recommendation-result" class="hidden animate-fade-in bg-slate-50 rounded-xl p-6 border-l-4 border-sky-500">
            <div class="flex flex-col md:flex-row gap-6 items-start">
              <div class="flex-1">
                <h3 id="result-title" class="text-2xl font-bold text-slate-900 mb-2"></h3>
                <p id="result-desc" class="text-slate-700 mb-4"></p>
                <ul id="result-features" class="space-y-2 mb-4">
                  <!-- Features injected via JS -->
                </ul>
                <a
                  id="result-link"
                  href="#"
                  target="_blank"
                  class="inline-block bg-sky-600 text-white font-medium px-6 py-2 rounded-lg hover:bg-sky-700 transition-colors text-dynamic"
                  data-key="concierge.result_link"
                  >å‰å¾€å®˜æ–¹ç¶²ç«™</a
                >
              </div>
              <div class="w-full md:w-1/3 bg-white p-4 rounded-lg shadow-sm border border-slate-200">
                <div class="text-xs text-slate-500 uppercase font-semibold mb-2 text-dynamic" data-key="concierge.result_label">
                  ä¸»è¦ç‰¹é»
                </div>
                <div id="result-tags" class="flex flex-wrap gap-2">
                  <!-- Tags injected via JS -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Price Chart Section -->
      <section id="price-chart" class="space-y-6">
        <div class="md:text-center">
          <h2 class="text-2xl font-bold text-slate-800 text-dynamic" data-key="price_chart.h2">ğŸ’° åƒ¹æ ¼æ¯”è¼ƒåœ–è¡¨</h2>
          <p class="text-slate-600 mt-2 whitespace-pre-line text-dynamic" data-key="price_chart.p">
            é€™æ˜¯æ¨‚è¶£æ½›æ°´ï¼ˆ2æ”¯ï¼‰ã€é–‹æ”¾æ°´åŸŸï¼ˆOWï¼‰å’Œé€²éšé–‹æ”¾æ°´åŸŸï¼ˆAOWï¼‰èª²ç¨‹çš„åƒ¹æ ¼æ¯”è¼ƒã€‚ é€éè¦–è¦ºåŒ–åœ–è¡¨ï¼Œæ‚¨å¯ä»¥æ¸…æ™°çœ‹åˆ°æˆæœ¬å·®ç•°ã€‚
          </p>
        </div>

        <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100">
          <!-- Chart Container -->
          <div class="chart-container">
            <canvas id="costChart"></canvas>
          </div>
          <div class="mt-4 text-center text-sm text-slate-500 text-dynamic" data-key="concierge.currency_note">
            â€» è²¨å¹£å–®ä½ç‚ºè²å¾‹è³“æ¯”ç´¢ (PHP)ã€‚æœ€æ–°åƒ¹æ ¼è«‹ä»¥å„æ½›åº—å®˜ç¶²ç‚ºæº–ã€‚
          </div>
        </div>
      </section>

      <!-- Detailed Comparison Section -->
      <section id="details" class="space-y-6">
        <div class="md:text-center">
          <h2 class="text-2xl font-bold text-slate-800 text-dynamic" data-key="details.h2">ğŸ“Š è©³ç´°è¦æ ¼æ¯”è¼ƒ</h2>
          <p class="text-slate-600 mt-2 whitespace-pre-line text-dynamic" data-key="details.p">
            æ¯”è¼ƒèª²ç¨‹çµæ§‹ã€èˆ¹å‹ã€ä»˜æ¬¾é¸é …ç­‰ç´°ç¯€ã€‚ å¡ç‰‡åŒ–çš„è¨­è¨ˆè®“æ‚¨åœ¨æ‰‹æ©Ÿä¸Šä¹Ÿèƒ½è¼•é¬†é–±è®€ã€‚
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- EL DIVE Card -->
          <div
            class="shop-card bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow border border-slate-200 flex flex-col"
          >
            <div class="bg-sky-50 p-4 border-b border-sky-100">
              <h3 class="text-xl font-bold text-sky-800 shop-name">EL DIVE</h3>
              <div class="text-sm text-sky-600 shop-card-desc" data-key="shop.elDive.card_desc">æ—¥èªæœå‹™ãƒ»æ¥µä½å¸«ç”Ÿæ¯”</div>
            </div>
            <div class="p-6 flex-1 space-y-4">
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.boat_type">èˆ¹å‹</span>
                <div class="text-slate-800 font-medium shop-boat" data-key="shop.elDive.boat">å‚³çµ±èƒèŸ¹èˆ¹ (Bangka)</div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.ratio">å¸«ç”Ÿæ¯” (OW)</span>
                <div class="text-slate-800 font-medium text-lg">
                  2:1
                  <span class="text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded ml-2 text-dynamic" data-key="details.low_ratio"
                    >æ¥µä½</span
                  >
                </div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.jp_inst">æ—¥èªæ•™ç·´</span>
                <div class="text-slate-800 font-medium flex items-center">
                  <span class="text-green-600 mr-2">â—</span> <span class="text-dynamic" data-key="details.yes">æœ‰</span>
                </div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.aow_perk">AOW ç‰¹è‰²</span>
                <div class="text-slate-800 font-medium shop-aow-perk" data-key="shop.elDive.aow_perk">è´ˆé€æ½›æ°´</div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.fees">ä»˜æ¬¾æ‰‹çºŒè²»</span>
                <div class="text-slate-800 font-medium text-dynamic" data-key="details.undocumented">æœªç‰¹åˆ¥è¨»æ˜</div>
              </div>
            </div>
            <div class="p-4 bg-slate-50 border-t border-slate-100 mt-auto">
              <a
                href="https://www.el-dive.com/"
                target="_blank"
                class="text-sky-600 hover:text-sky-800 font-medium text-sm flex items-center justify-center text-dynamic"
                data-key="details.view_site"
              >
                å‰å¾€å®˜ç¶² <span>â†’</span>
              </a>
            </div>
          </div>

          <!-- 200 Bar Card -->
          <div
            class="shop-card bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow border border-slate-200 flex flex-col"
          >
            <div class="bg-orange-50 p-4 border-b border-orange-100">
              <h3 class="text-xl font-bold text-orange-800 shop-name">200 Bar Diving</h3>
              <div class="text-sm text-orange-600 shop-card-desc" data-key="shop.twoHundredBar.card_desc">å¿«é€Ÿèˆ¹ãƒ»GoPro å…è²»</div>
            </div>
            <div class="p-6 flex-1 space-y-4">
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.boat_type">èˆ¹å‹</span>
                <div class="text-slate-800 font-medium shop-boat" data-key="shop.twoHundredBar.boat">å¿«é€Ÿèˆ¹ (Speedboat)</div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.ratio">å¸«ç”Ÿæ¯” (OW)</span>
                <div class="text-slate-800 font-medium">Max 4:1</div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.jp_inst">æ—¥èªæ•™ç·´</span>
                <div class="text-slate-800 font-medium flex items-center">
                  <span class="text-slate-400 mr-2">â—‹</span> <span class="text-dynamic" data-key="details.no">ç„¡</span>
                </div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.aow_perk">AOW ç‰¹è‰²</span>
                <div class="text-slate-800 font-medium shop-aow-perk" data-key="shop.twoHundredBar.aow_perk">å…è²» GoPro å½±ç‰‡</div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.fees">ä»˜æ¬¾æ‰‹çºŒè²»</span>
                <div class="text-slate-800 font-medium text-dynamic" data-key="details.cash_0">ç¾é‡‘ 0% / ç·šä¸Š 4%</div>
              </div>
            </div>
            <div class="p-4 bg-slate-50 border-t border-slate-100 mt-auto">
              <a
                href="https://200bardivingcenterelnido.com/"
                target="_blank"
                class="text-orange-600 hover:text-orange-800 font-medium text-sm flex items-center justify-center text-dynamic"
                data-key="details.view_site"
              >
                å‰å¾€å®˜ç¶² <span>â†’</span>
              </a>
            </div>
          </div>

          <!-- Tabanka Card -->
          <div
            class="shop-card bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow border border-slate-200 flex flex-col"
          >
            <div class="bg-emerald-50 p-4 border-b border-emerald-100">
              <h3 class="text-xl font-bold text-emerald-800 shop-name">Tabanka Divers</h3>
              <div class="text-sm text-emerald-600 shop-card-desc" data-key="shop.tabanka.card_desc">æ½›å®¿æ•´åˆãƒ»AOW è´ˆé€æ½›æ°´</div>
            </div>
            <div class="p-6 flex-1 space-y-4">
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.boat_type">èˆ¹å‹</span>
                <div class="text-slate-800 font-medium shop-boat" data-key="shop.tabanka.boat">èƒèŸ¹èˆ¹ + å°è‰‡æ¥é§</div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.ratio">å¸«ç”Ÿæ¯” (OW)</span>
                <div class="text-slate-800 font-medium">Max 4:1</div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.jp_inst">æ—¥èªæ•™ç·´</span>
                <div class="text-slate-800 font-medium flex items-center">
                  <span class="text-slate-400 mr-2">â—‹</span> <span class="text-dynamic" data-key="details.no">ç„¡</span>
                </div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.aow_perk">ç‰¹è‰²æœå‹™</span>
                <div class="text-slate-800 font-medium shop-aow-perk" data-key="shop.tabanka.aow_perk">æ½›å®¿æ•´åˆã€AOW è´ˆé€æ½›æ°´</div>
              </div>
              <div class="detail-row">
                <span class="text-xs font-semibold text-slate-400 uppercase text-dynamic" data-key="details.fees">ä»˜æ¬¾æ‰‹çºŒè²»</span>
                <div class="text-slate-800 font-medium text-dynamic" data-key="details.card_6">ä¿¡ç”¨å¡/PayPal +6%</div>
              </div>
            </div>
            <div class="p-4 bg-slate-50 border-t border-slate-100 mt-auto">
              <a
                href="https://www.tabanka-divers.com/"
                target="_blank"
                class="text-emerald-600 hover:text-emerald-800 font-medium text-sm flex items-center justify-center text-dynamic"
                data-key="details.view_site"
              >
                å‰å¾€å®˜ç¶² <span>â†’</span>
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- Comparison Table (For full data view) -->
      <section class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
        <div class="p-6 border-b border-slate-100">
          <h3 class="font-bold text-lg text-slate-800 text-dynamic" data-key="table.h3">ğŸ“‹ å®Œæ•´æ•¸æ“šä¸€è¦½</h3>
        </div>
        <div class="overflow-x-auto custom-scrollbar">
          <table class="w-full text-sm text-left text-slate-600">
            <thead class="text-xs text-slate-700 uppercase bg-slate-50">
              <tr>
                <th scope="col" class="px-6 py-4 rounded-tl-lg text-dynamic" data-key="table.item">é …ç›®</th>
                <th scope="col" class="px-6 py-4 font-bold text-sky-700">EL DIVE</th>
                <th scope="col" class="px-6 py-4 font-bold text-orange-700">200 Bar</th>
                <th scope="col" class="px-6 py-4 font-bold text-emerald-700">Tabanka</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
              <tr class="hover:bg-slate-50">
                <td class="px-6 py-4 font-medium text-slate-900 text-dynamic" data-key="price_chart.label_fun2">Fun Dive (2æ”¯)</td>
                <td class="px-6 py-4">â‚±4,500</td>
                <td class="px-6 py-4">â‚±4,300 - 4,500</td>
                <td class="px-6 py-4">â‚±4,800</td>
              </tr>
              <tr class="hover:bg-slate-50">
                <td class="px-6 py-4 font-medium text-slate-900 text-dynamic">Fun Dive (3æ”¯)</td>
                <td class="px-6 py-4">â‚±5,200</td>
                <td class="px-6 py-4">~â‚±5,200</td>
                <td class="px-6 py-4">â‚±5,400</td>
              </tr>
              <tr class="hover:bg-slate-50">
                <td class="px-6 py-4 font-medium text-slate-900 text-dynamic" data-key="price_chart.label_ow">OW èª²ç¨‹</td>
                <td class="px-6 py-4">
                  â‚±23,500 <br /><span class="text-xs text-slate-400 text-dynamic" data-key="table.ow_struct">2å¤© / 6æ”¯æ°£ç“¶</span>
                </td>
                <td class="px-6 py-4">
                  â‚±22,500 <br /><span class="text-xs text-slate-400 text-dynamic" data-key="table.std_struct">æ¨™æº–4æ”¯æ°£ç“¶</span>
                </td>
                <td class="px-6 py-4">
                  â‚±22,900 <br /><span class="text-xs text-slate-400 text-dynamic" data-key="table.std_struct">æ¨™æº–4æ”¯æ°£ç“¶</span>
                </td>
              </tr>
              <tr class="hover:bg-slate-50">
                <td class="px-6 py-4 font-medium text-slate-900 text-dynamic" data-key="price_chart.label_aow">AOW èª²ç¨‹</td>
                <td class="px-6 py-4">â‚±21,000</td>
                <td class="px-6 py-4">â‚±19,500</td>
                <td class="px-6 py-4">â‚±20,900</td>
              </tr>
              <tr class="hover:bg-slate-50">
                <td class="px-6 py-4 font-medium text-slate-900 text-dynamic" data-key="table.lunch">åˆé¤</td>
                <td class="px-6 py-4 text-green-600 text-dynamic" data-key="table.lunch_inc">âœ” åŒ…å«</td>
                <td class="px-6 py-4 text-green-600 text-dynamic" data-key="table.lunch_inc">âœ” åŒ…å«</td>
                <td class="px-6 py-4 text-green-600 text-dynamic" data-key="table.lunch_inc">âœ” åŒ…å«</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <footer class="bg-slate-800 text-slate-300 py-10 mt-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <p class="mb-4">Â© 2025 El Nido Diving Comparison Tool</p>
        <p class="text-xs text-slate-500 text-dynamic" data-key="footer.disclaimer">
          å…è²¬è²æ˜ï¼šæ‰€åˆ—åƒ¹æ ¼å’Œè³‡è¨Šå¯èƒ½æœƒè®Šå‹•ã€‚è«‹ä»¥å„æ½›æ°´ä¸­å¿ƒçš„å®˜æ–¹ç¶²ç«™æœ€æ–°è³‡è¨Šç‚ºæº–ã€‚
        </p>
      </div>
    </footer>

    <script>
      const shopRawData = {
        elDive: {
          name:"ElDive",
          fun2: 4500,
          fun3: 5200,
          ow: 23500,
          aow: 21000,
          url: "https://www.el-dive.com/",
          color: "rgba(14, 165, 233, 0.8)",
          borderColor: "rgba(14, 165, 233, 1)",
        },
        twoHundredBar: {
          name:"200bar",
          fun2: 4400,
          fun3: 5200,
          ow: 22500,
          aow: 19500,
          url: "https://200bardivingcenterelnido.com/",
          color: "rgba(249, 115, 22, 0.8)",
          borderColor: "rgba(249, 115, 22, 1)",
        },
        tabanka: {
          name:"Tabanka",
          fun2: 4800,
          fun3: 5400,
          ow: 22900,
          aow: 20900,
          url: "https://www.tabanka-divers.com/",
          color: "rgba(16, 185, 129, 0.8)",
          borderColor: "rgba(16, 185, 129, 1)",
        },
      };

      const multilingualData = {
        ja: {
          nav: { title: "ã‚¨ãƒ«ãƒ‹ãƒ‰ ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚»ãƒ³ã‚¿ãƒ¼æ¯”è¼ƒãƒŠãƒ“", diag: "ãŠã™ã™ã‚è¨ºæ–­", price: "æ–™é‡‘æ¯”è¼ƒ", details: "è©³ç´°ãƒ‡ãƒ¼ã‚¿" },
          hero: {
            h1: "ã‚¨ãƒ«ãƒ‹ãƒ‰ã§æœ€é«˜ã®ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ä½“é¨“ã‚’",
            p: "3ã¤ã®ä¸»è¦ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚»ãƒ³ã‚¿ãƒ¼ï¼ˆEL DIVE, 200 Bar, Tabanka Diversï¼‰ã‚’å¾¹åº•æ¯”è¼ƒã€‚\nã‚ãªãŸã«ã´ã£ãŸã‚Šã®ã‚·ãƒ§ãƒƒãƒ—ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚",
          },
          concierge: {
            h2: "âš¡ ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚·ãƒ§ãƒƒãƒ—è¨ºæ–­",
            p: "ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚ãªãŸã®å„ªå…ˆé †ä½ã«åŸºã¥ã„ã¦æœ€é©ãªã‚·ãƒ§ãƒƒãƒ—ã‚’ææ¡ˆã—ã¾ã™ã€‚\næœ€ã‚‚é‡è¦–ã™ã‚‹ãƒã‚¤ãƒ³ãƒˆã‚’é¸ã‚“ã§ãã ã•ã„ã€‚",
            language: { title: "ğŸ—£ï¸ æ—¥æœ¬èªã‚µãƒãƒ¼ãƒˆ", desc: "è¨€è‘‰ã®å£ãªãå®‰å¿ƒã—ã¦å­¦ã³ãŸã„" },
            speed: { title: "ğŸš¤ ç§»å‹•ã®é€Ÿã•ãƒ»åŠ¹ç‡", desc: "ç§»å‹•æ™‚é–“ã‚’çŸ­ç¸®ã—ã¦æ¥½ã—ã¿ãŸã„" },
            stay: { title: "ğŸ¨ å®¿æ³Šï¼‹ãƒ€ã‚¤ãƒ“ãƒ³ã‚°", desc: "å®¿ã¨ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚’ã¾ã¨ã‚ã¦æ‰‹é…" },
            result_label: "ä¸»ãªç‰¹å¾´",
            result_link: "å…¬å¼ã‚µã‚¤ãƒˆã¸",
            currency_note: "â€» é€šè²¨ã¯ãƒ•ã‚£ãƒªãƒ”ãƒ³ãƒšã‚½ (PHP) ã§ã™ã€‚æœ€æ–°ã®æ–™é‡‘ã¯å„å…¬å¼ã‚µã‚¤ãƒˆã‚’ã”ç¢ºèªãã ã•ã„ã€‚",
          },
          price_chart: {
            h2: "ğŸ’° æ–™é‡‘æ¯”è¼ƒãƒãƒ£ãƒ¼ãƒˆ",
            p: "ãƒ•ã‚¡ãƒ³ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ï¼ˆ2æœ¬ï¼‰ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ï¼ˆOWï¼‰ã€ã‚¢ãƒ‰ãƒãƒ³ã‚¹ï¼ˆAOWï¼‰ã®æ–™é‡‘æ¯”è¼ƒã§ã™ã€‚\nè¦–è¦šçš„ã«ã‚³ã‚¹ãƒˆã®é•ã„ã‚’ç¢ºèªã§ãã¾ã™ã€‚",
            y_axis: "ä¾¡æ ¼ (PHP)",
            label_fun2: "Fun Dive (2æœ¬)",
            label_ow: "OW ã‚³ãƒ¼ã‚¹",
            label_aow: "AOW ã‚³ãƒ¼ã‚¹",
          },
          details: {
            h2: "ğŸ“Š è©³ç´°ã‚¹ãƒšãƒƒã‚¯æ¯”è¼ƒ",
            p: "ã‚³ãƒ¼ã‚¹æ§‹æˆã€ãƒœãƒ¼ãƒˆã®ç¨®é¡ã€æ”¯æ‰•ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã©ã€ç´°ã‹ãªæ¡ä»¶ã‚’æ¯”è¼ƒã—ã¾ã™ã€‚\nã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è©³ç´°ãŒå¼·èª¿è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚",
            boat_type: "ãƒœãƒ¼ãƒˆã®ç¨®é¡",
            ratio: "è¬›å¸«ãƒ»ç”Ÿå¾’æ¯” (OW)",
            jp_inst: "æ—¥æœ¬èªã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼",
            aow_perk: "AOWç‰¹å…¸",
            fees: "æ”¯æ‰•ã„æ‰‹æ•°æ–™",
            low_ratio: "éå¸¸ã«ä½ã„",
            yes: "ã‚ã‚Š",
            no: "ãªã—",
            undocumented: "æœªè¨˜è¼‰",
            cash_0: "ç¾é‡‘ 0% / ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ 4%",
            card_6: "ã‚«ãƒ¼ãƒ‰/PayPal +6%",
            view_site: "å…¬å¼ã‚µã‚¤ãƒˆã‚’è¦‹ã‚‹ <span>â†’</span>",
          },
          table: {
            h3: "ğŸ“‹ å…¨ãƒ‡ãƒ¼ã‚¿ä¸€è¦§",
            item: "é …ç›®",
            lunch: "ãƒ©ãƒ³ãƒ",
            lunch_inc: "âœ” å«ã‚€",
            ow_struct: "2æ—¥ / 6ã‚¿ãƒ³ã‚¯",
            std_struct: "æ¨™æº–4ã‚¿ãƒ³ã‚¯",
          },
          shop: {
            elDive: {
              name: "EL DIVE",
              desc: "æ—¥æœ¬èªã§ã®ãã‚ç´°ã‚„ã‹ãªã‚µãƒãƒ¼ãƒˆã‚’é‡è¦–ã™ã‚‹ãªã‚‰é–“é•ã„ãªãã“ã“ã€‚OWã‚³ãƒ¼ã‚¹ã®å†…å®¹ãŒéå¸¸ã«å……å®Ÿã—ã¦ãŠã‚Šã€åˆå¿ƒè€…ã§ã‚‚è‡ªä¿¡ã‚’æŒã£ã¦ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å–å¾—ãŒå¯èƒ½ã§ã™ã€‚",
              features: ["æ—¥æœ¬äººã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼å¸¸é§", "OWã‚³ãƒ¼ã‚¹ã§6æœ¬æ½œã‚Œã‚‹ï¼ˆé€šå¸¸4æœ¬ï¼‰", "å¾¹åº•ã—ãŸå°‘äººæ•°åˆ¶ (2:1)"],
              tags: ["æ—¥æœ¬èªOK", "åˆå¿ƒè€…å®‰å¿ƒ", "ãŸãã•ã‚“æ½œã‚Œã‚‹"],
              card_desc: "æ—¥æœ¬èªå¯¾å¿œãƒ»å°‘äººæ•°åˆ¶",
              boat: "ä¼çµ±çš„ãªãƒãƒ³ã‚«èˆ¹",
              aow_perk: "ãƒ•ã‚¡ãƒ³ãƒ€ã‚¤ãƒ–ä»˜ã",
            },
            twoHundredBar: {
              name: "200 Bar Diving Center",
              desc: "ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒœãƒ¼ãƒˆã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€ç§»å‹•æ™‚é–“ã‚’çŸ­ç¸®ã—ã¦æ™‚é–“ã‚’æœ‰åŠ¹ã«ä½¿ã„ãŸã„æ–¹ã«æœ€é©ã€‚ã‚³ãƒ¼ã‚¹æ–™é‡‘ã‚‚æ¯”è¼ƒçš„å®‰ä¾¡ã§ã€GoProå‹•ç”»ã®ç‰¹å…¸ã‚‚é­…åŠ›çš„ã§ã™ã€‚",
              features: ["ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒœãƒ¼ãƒˆã§ç§»å‹•æ™‚é–“ãŒçŸ­ã„", "GoProå‹•ç”»ç„¡æ–™ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ", "ã‚³ãƒ¼ã‚¹æ–™é‡‘ãŒãƒªãƒ¼ã‚ºãƒŠãƒ–ãƒ«"],
              tags: ["ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒœãƒ¼ãƒˆ", "ã‚³ã‚¹ãƒ‘è‰¯", "å‹•ç”»ç„¡æ–™"],
              card_desc: "ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒœãƒ¼ãƒˆãƒ»GoProç„¡æ–™",
              boat: "ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒœãƒ¼ãƒˆ",
              aow_perk: "ç„¡æ–™GoProå‹•ç”»",
            },
            tabanka: {
              name: "Tabanka Divers",
              desc: "å®¿æ³Šã¨ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚’ã¾ã¨ã‚ã¦æ‰‹é…ã§ãã‚‹ãŸã‚ã€ãƒ­ã‚¸ã‚¹ãƒ†ã‚£ã‚¯ã‚¹ã®æ‰‹é–“ã‚’çœããŸã„æ–¹ã«ãŠã™ã™ã‚ã€‚ä¼çµ±çš„ãªãƒãƒ³ã‚«èˆ¹ã¨å°å‹ãƒœãƒ¼ãƒˆã‚’çµ„ã¿åˆã‚ã›ãŸå¿«é©ãªé€è¿ã‚‚ç‰¹å¾´ã§ã™ã€‚",
              features: ["å®¿æ³Šæ–½è¨­ã¨ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ãŒä¸€ä½“åŒ–", "å°å‹ãƒœãƒ¼ãƒˆã§ã®ã‚¹ãƒ ãƒ¼ã‚ºãªé€è¿", "AOWã«ãƒ•ã‚¡ãƒ³ãƒ€ã‚¤ãƒ–ãŒç„¡æ–™ã§ä»˜å±"],
              tags: ["å®¿æ³Šä¸€ä½“å‹", "å¿«é©é€è¿", "AOWç‰¹å…¸"],
              card_desc: "å®¿æ³Šä¸€ä½“å‹ãƒ»ãƒœãƒ¼ãƒˆé€è¿",
              boat: "ãƒãƒ³ã‚«èˆ¹ + å°å‹ãƒœãƒ¼ãƒˆé€è¿",
              aow_perk: "ãƒ•ã‚¡ãƒ³ãƒ€ã‚¤ãƒ–ä»˜ã",
            },
          },
          footer: {
            disclaimer:
              "å…è²¬äº‹é …ï¼šæ²è¼‰ã•ã‚Œã¦ã„ã‚‹ä¾¡æ ¼ã‚„æƒ…å ±ã¯å¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æœ€æ–°ã®æƒ…å ±ã¯å„ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚»ãƒ³ã‚¿ãƒ¼ã®å…¬å¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ã”ç¢ºèªãã ã•ã„ã€‚",
          },
        },
        "zh-TW": {
          nav: { title: "æ„›å¦®å³¶æ½›æ°´æŒ‡å—", diag: "æ¨è–¦è¨ºæ–·", price: "åƒ¹æ ¼æ¯”è¼ƒ", details: "è©³ç´°è¦æ ¼" },
          hero: {
            h1: "åœ¨æ„›å¦®å³¶å°‹æ‰¾æœ€æ£’çš„æ½›æ°´é«”é©—",
            p: "æ·±åº¦æ¯”è¼ƒä¸‰å€‹ä¸»è¦æ½›æ°´ä¸­å¿ƒï¼ˆEL DIVE, 200 Bar, Tabanka Diversï¼‰ã€‚\nå¹«åŠ©æ‚¨è¼•é¬†æ‰¾åˆ°æœ€ç¬¦åˆéœ€æ±‚çš„æ½›åº—ã€‚",
          },
          concierge: {
            h2: "âš¡ æ½›æ°´åº—æ¨è–¦è¨ºæ–·",
            p: "æ­¤å€å°‡æ ¹æ“šæ‚¨çš„å„ªå…ˆé †åºï¼Œç‚ºæ‚¨æ¨è–¦æœ€é©åˆçš„æ½›æ°´ä¸­å¿ƒã€‚\nè«‹é¸æ“‡æ‚¨æœ€é‡è¦–çš„é …ç›®ã€‚",
            language: { title: "ğŸ—£ï¸ æ—¥èªæ•™ç·´", desc: "å¸Œæœ›æ²’æœ‰èªè¨€éšœç¤™ï¼Œå®‰å¿ƒå­¸ç¿’" },
            speed: { title: "ğŸš¤ äº¤é€šé€Ÿåº¦/æ•ˆç‡", desc: "æƒ³ç¯€çœäº¤é€šæ™‚é–“ï¼Œæ›´æœ‰æ•ˆç‡åœ°æ½›æ°´" },
            stay: { title: "ğŸ¨ æ½›æ°´+ä½å®¿æ•´åˆ", desc: "å¸Œæœ›ä½å®¿å’Œæ½›æ°´èƒ½ä¸€ç«™å¼å®‰æ’" },
            result_label: "ä¸»è¦ç‰¹é»",
            result_link: "å‰å¾€å®˜æ–¹ç¶²ç«™",
            currency_note: "â€» è²¨å¹£å–®ä½ç‚ºè²å¾‹è³“æ¯”ç´¢ (PHP)ã€‚æœ€æ–°åƒ¹æ ¼è«‹ä»¥å„æ½›åº—å®˜ç¶²ç‚ºæº–ã€‚",
          },
          price_chart: {
            h2: "ğŸ’° åƒ¹æ ¼æ¯”è¼ƒåœ–è¡¨",
            p: "é€™æ˜¯æ¨‚è¶£æ½›æ°´ï¼ˆ2æ”¯ï¼‰ã€é–‹æ”¾æ°´åŸŸï¼ˆOWï¼‰å’Œé€²éšé–‹æ”¾æ°´åŸŸï¼ˆAOWï¼‰èª²ç¨‹çš„åƒ¹æ ¼æ¯”è¼ƒã€‚\né€éè¦–è¦ºåŒ–åœ–è¡¨ï¼Œæ‚¨å¯ä»¥æ¸…æ™°çœ‹åˆ°æˆæœ¬å·®ç•°ã€‚",
            y_axis: "åƒ¹æ ¼ (PHP)",
            label_fun2: "Fun Dive (2æ”¯)",
            label_ow: "OW èª²ç¨‹",
            label_aow: "AOW èª²ç¨‹",
          },
          details: {
            h2: "ğŸ“Š è©³ç´°è¦æ ¼æ¯”è¼ƒ",
            p: "æ¯”è¼ƒèª²ç¨‹çµæ§‹ã€èˆ¹å‹ã€ä»˜æ¬¾é¸é …ç­‰ç´°ç¯€ã€‚\nå¡ç‰‡åŒ–çš„è¨­è¨ˆè®“æ‚¨åœ¨æ‰‹æ©Ÿä¸Šä¹Ÿèƒ½è¼•é¬†é–±è®€ã€‚",
            boat_type: "èˆ¹å‹",
            ratio: "å¸«ç”Ÿæ¯” (OW)",
            jp_inst: "æ—¥èªæ•™ç·´",
            aow_perk: "AOW ç‰¹è‰²",
            fees: "ä»˜æ¬¾æ‰‹çºŒè²»",
            low_ratio: "æ¥µä½",
            yes: "æœ‰",
            no: "ç„¡",
            undocumented: "æœªç‰¹åˆ¥è¨»æ˜",
            cash_0: "ç¾é‡‘ 0% / ç·šä¸Š 4%",
            card_6: "ä¿¡ç”¨å¡/PayPal +6%",
            view_site: "å‰å¾€å®˜ç¶² <span>â†’</span>",
          },
          table: {
            h3: "ğŸ“‹ å®Œæ•´æ•¸æ“šä¸€è¦½",
            item: "é …ç›®",
            lunch: "åˆé¤",
            lunch_inc: "âœ” åŒ…å«",
            ow_struct: "2å¤© / 6æ”¯æ°£ç“¶",
            std_struct: "æ¨™æº–4æ”¯æ°£ç“¶",
          },
          shop: {
            elDive: {
              name: "EL DIVE",
              desc: "æ—¥èªæ•™ç·´å¸¸é§ï¼Œè‹¥æ‚¨é‡è¦–ç´°ç·»çš„ä¸­æ–‡æœå‹™èˆ‡å®‰å¿ƒæ„Ÿï¼Œé€™è£¡ç„¡ç–‘æ˜¯é¦–é¸ã€‚OW èª²ç¨‹å…§å®¹éå¸¸ç´®å¯¦ï¼Œè®“åˆå­¸è€…èƒ½æ›´è‡ªä¿¡åœ°å–å¾—åŸ·ç…§ã€‚",
              features: ["æ—¥èªæ•™ç·´å¸¸é§", "OW èª²ç¨‹å¯æ½› 6 æ”¯æ°£ç“¶ï¼ˆé€šå¸¸ç‚º 4 æ”¯ï¼‰", "å¾¹åº•åŸ·è¡Œæ¥µä½å¸«ç”Ÿæ¯” (2:1)"],
              tags: ["æ—¥èªOK", "æ–°æ‰‹å®‰å¿ƒ", "æ½›æ°´æ¬¡æ•¸å¤š"],
              card_desc: "æ—¥èªæœå‹™ãƒ»æ¥µä½å¸«ç”Ÿæ¯”",
              boat: "å‚³çµ±èƒèŸ¹èˆ¹ (Bangka)",
              aow_perk: "è´ˆé€æ½›æ°´",
            },
            twoHundredBar: {
              name: "200 Bar Diving Center",
              desc: "æ¡ç”¨å¿«é€Ÿèˆ¹ï¼Œéå¸¸é©åˆæƒ³ç¸®çŸ­äº¤é€šæ™‚é–“ã€æœ‰æ•ˆåˆ©ç”¨æ½›æ°´æ™‚é–“çš„éŠå®¢ã€‚èª²ç¨‹åƒ¹æ ¼ç›¸å°å¯¦æƒ ï¼Œé‚„æä¾›å…è²» GoPro å½±ç‰‡ï¼Œéå¸¸å¸å¼•äººã€‚",
              features: ["ä½¿ç”¨å¿«é€Ÿèˆ¹ç¸®çŸ­äº¤é€šæ™‚é–“", "å…è²»è´ˆé€ GoPro å½±ç‰‡", "èª²ç¨‹åƒ¹æ ¼åˆç†"],
              tags: ["å¿«é€Ÿèˆ¹", "é«˜CPå€¼", "å½±ç‰‡å…è²»"],
              card_desc: "å¿«é€Ÿèˆ¹ãƒ»GoPro å…è²»",
              boat: "å¿«é€Ÿèˆ¹ (Speedboat)",
              aow_perk: "å…è²» GoPro å½±ç‰‡",
            },
            tabanka: {
              name: "Tabanka Divers",
              desc: "æä¾›æ½›æ°´èˆ‡ä½å®¿æ•´åˆå®‰æ’ï¼Œèƒ½çœå»å¾Œå‹¤å®‰æ’çš„éº»ç…©ã€‚çµåˆå‚³çµ±èƒèŸ¹èˆ¹å’Œå°è‰‡æ¥é§ï¼Œæä¾›èˆ’é©çš„æ¥é€æœå‹™ã€‚",
              features: ["æ½›æ°´èˆ‡ä½å®¿è¨­æ–½æ•´åˆ", "ä½¿ç”¨å°è‰‡æ¥é§ï¼Œæ¥é€é †æš¢", "AOW èª²ç¨‹å…è²»é™„è´ˆ Fun Dive"],
              tags: ["ä½å®¿æ•´åˆ", "æ¥é€æ–¹ä¾¿", "AOWå„ªæƒ "],
              card_desc: "æ½›å®¿æ•´åˆãƒ»AOW è´ˆé€æ½›æ°´",
              boat: "èƒèŸ¹èˆ¹ + å°è‰‡æ¥é§",
              aow_perk: "è´ˆé€æ½›æ°´",
            },
          },
          footer: { disclaimer: "å…è²¬è²æ˜ï¼šæ‰€åˆ—åƒ¹æ ¼å’Œè³‡è¨Šå¯èƒ½æœƒè®Šå‹•ã€‚è«‹ä»¥å„æ½›æ°´ä¸­å¿ƒçš„å®˜æ–¹ç¶²ç«™æœ€æ–°è³‡è¨Šç‚ºæº–ã€‚" },
        },
      };

      const defaultLang = "zh-TW";
      let currentLang = defaultLang;
      let costChartInstance = null;

      // Utility function to safely get nested object value
      const getNestedValue = (obj, path) => {
        return path.split(".").reduce((acc, part) => acc && acc[part], obj);
      };

      function updateUI(lang) {
        currentLang = lang;
        const data = multilingualData[lang];

        // Update Title (Head)
        document.title = data.nav.title;

        // Update all elements with data-key attribute
        document.querySelectorAll("[data-key]").forEach((el) => {
          const key = el.getAttribute("data-key");
          const value = getNestedValue(data, key);

          if (value !== undefined) {
            if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
              el.value = value;
            } else if (el.tagName === "BUTTON" && el.id.startsWith("btn-")) {
              // Skip complex buttons, updated by specific key in place
            } else if (el.tagName === "OPTION") {
              // Skip options
            } else {
              // Use innerHTML to allow for <span> tags in strings like details.view_site
              el.innerHTML = value.replace(/\n/g, "<br>"); // Handle newlines for pre-line
            }
          }
        });

        // Update complex, non-data-key driven elements

        // Update Card Titles/Descriptions (These were hardcoded and need specific update)
        const updateCardText = (shopKey, shopId) => {
          const shopData = data.shop[shopKey];
          document.querySelector(`#details .shop-card:nth-child(${shopId}) .shop-card-desc`).innerHTML = shopData.card_desc;
          document.querySelector(`#details .shop-card:nth-child(${shopId}) .shop-boat`).innerHTML = shopData.boat;
          document.querySelector(`#details .shop-card:nth-child(${shopId}) .shop-aow-perk`).innerHTML = shopData.aow_perk;
        };
        updateCardText("elDive", 1);
        updateCardText("twoHundredBar", 2);
        updateCardText("tabanka", 3);

        // Re-render chart
        if (costChartInstance) {
          updateChart();
        }

        // Re-check if any recommendation result is open and update it
        const currentSelected = document.querySelector(".priority-btn.ring-sky-500");
        if (currentSelected) {
          const type = currentSelected.id.replace("btn-", "");
          // Call selectPriority to re-render the result block with new language
          selectPriority(type, false);
        }
      }

      function switchLanguage(lang) {
        updateUI(lang);
      }

      function scrollToSection(id) {
        document.getElementById(id).scrollIntoView({ behavior: "smooth" });
      }

      function selectPriority(type, highlight = true) {
        const data = multilingualData[currentLang];

        // 1. Handle Button Highlighting
        if (highlight) {
          document.querySelectorAll(".priority-btn").forEach((btn) => {
            btn.classList.remove("ring-2", "ring-offset-2", "ring-sky-500", "bg-slate-50");
          });
          const selectedBtn = document.getElementById(`btn-${type}`);
          selectedBtn.classList.add("ring-2", "ring-offset-2", "ring-sky-500", "bg-slate-50");
        }

        // 2. Determine Winner (Logic is independent of language)
        let winnerKey = "";
        if (type === "language") {
          winnerKey = "elDive";
        } else if (type === "speed") {
          winnerKey = "twoHundredBar";
        } else if (type === "stay") {
          winnerKey = "tabanka";
        }

        const winner = data.shop[winnerKey];

        // 3. Update Result DOM
        const resultDiv = document.getElementById("recommendation-result");
        const resultTitle = document.getElementById("result-title");
        const resultDesc = document.getElementById("result-desc");
        const resultFeatures = document.getElementById("result-features");
        const resultTags = document.getElementById("result-tags");
        const resultLink = document.getElementById("result-link");

        // Fade out if visible, then update and fade in
        resultDiv.classList.remove("animate-fade-in");

        // Allow a tiny delay for visual reset
        setTimeout(() => {
          resultDiv.classList.remove("hidden");

          const titlePrefix = currentLang === "ja" ? "ãŠã™ã™ã‚: " : "æ¨è–¦: ";
          resultTitle.textContent = `${titlePrefix} ${winner.name}`;
          resultDesc.textContent = winner.desc;
          resultLink.href = shopRawData[winnerKey].url;

          // Features List
          resultFeatures.innerHTML = winner.features
            .map((f) => `<li class="flex items-start"><span class="text-sky-500 mr-2">âœ“</span> ${f}</li>`)
            .join("");

          // Tags
          resultTags.innerHTML = winner.tags
            .map((t) => `<span class="bg-slate-200 text-slate-700 px-2 py-1 rounded text-xs">${t}</span>`)
            .join("");

          // Add styling class specific to the winner for visual feedback
          resultDiv.className = `bg-slate-50 rounded-xl p-6 border-l-4 animate-fade-in mt-6 shadow-sm`;
          resultDiv.style.borderColor = shopRawData[winnerKey].borderColor;
        }, 50);
      }

      function initChart() {
        const ctx = document.getElementById("costChart").getContext("2d");

        costChartInstance = new Chart(ctx, {
          type: "bar",
          data: {
            labels: [], // Will be set in updateChart
            datasets: [
              {
                label: shopRawData.elDive.name,
                data: [shopRawData.elDive.fun2, shopRawData.elDive.ow, shopRawData.elDive.aow],
                backgroundColor: shopRawData.elDive.color,
                borderColor: shopRawData.elDive.borderColor,
                borderWidth: 1,
              },
              {
                label: shopRawData.twoHundredBar.name,
                data: [shopRawData.twoHundredBar.fun2, shopRawData.twoHundredBar.ow, shopRawData.twoHundredBar.aow],
                backgroundColor: shopRawData.twoHundredBar.color,
                borderColor: shopRawData.twoHundredBar.borderColor,
                borderWidth: 1,
              },
              {
                label: shopRawData.tabanka.name,
                data: [shopRawData.tabanka.fun2, shopRawData.tabanka.ow, shopRawData.tabanka.aow],
                backgroundColor: shopRawData.tabanka.color,
                borderColor: shopRawData.tabanka.borderColor,
                borderWidth: 1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: "bottom", labels: { font: { family: "'Noto Sans TC', 'Noto Sans JP', sans-serif" } } },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    let label = context.dataset.label || "";
                    if (label) {
                      label += ": ";
                    }
                    if (context.parsed.y !== null) {
                      label += new Intl.NumberFormat("en-PH", { style: "currency", currency: "PHP" }).format(context.parsed.y);
                    }
                    return label;
                  },
                },
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                title: { display: true, text: "åƒ¹æ ¼ (PHP)", font: { family: "'Noto Sans TC', 'Noto Sans JP', sans-serif" } },
              },
            },
          },
        });
        updateChart(); // Initial update with default language
      }

      function updateChart() {
        if (!costChartInstance) return;
        const data = multilingualData[currentLang];

        costChartInstance.data.labels = [data.price_chart.label_fun2, data.price_chart.label_ow, data.price_chart.label_aow];

        // Update Y-axis title
        costChartInstance.options.scales.y.title.text = data.price_chart.y_axis;

        costChartInstance.update();
      }

      function detectAndSetLanguage() {
        // 1. Get browser preferred languages
        const browserLangs = navigator.languages || [navigator.language || navigator.userLanguage];

        let detectedLang = defaultLang;

        // 2. Check for supported language codes
        for (const browserLang of browserLangs) {
          const standardizedLang = browserLang.toLowerCase();

          // Check full match (e.g., 'zh-tw')
          if (multilingualData[standardizedLang]) {
            detectedLang = standardizedLang;
            break;
          }

          // Check base match and map to supported variants
          const baseLang = standardizedLang.split("-")[0];
          if (baseLang === "ja" && multilingualData["ja"]) {
            detectedLang = "ja";
            break;
          }
          // Check for Chinese base language and prioritize zh-TW if supported
          if (baseLang === "zh" && multilingualData["zh-TW"]) {
            detectedLang = "zh-TW";
            break;
          }
        }

        // 3. Set the selector and update UI
        const selector = document.getElementById("language-selector");
        if (selector) {
          selector.value = detectedLang;
        }
        // Use the detected language to initialize the UI
        updateUI(detectedLang);
      }

      document.addEventListener("DOMContentLoaded", function () {
        initChart();
        detectAndSetLanguage(); // Automatically set language based on browser preference
      });
    </script>

    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-fade-in {
        animation: fadeIn 0.4s ease-out forwards;
      }
    </style>
  </body>
</html>
